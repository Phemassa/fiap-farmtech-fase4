
Chamando todas as placas7 EXERCÍCIOSNÃO AVALIATIVOSEssa atividade não é avaliativa, caso queira ter um feedback, entre em contato com seu tutor pelo Teams.7.1 Acendendo um LEDVamos  considerar  um  exemplo  simples  onde  queremos  acender  um  LED conectado ao ESP32 se um botão for pressionado:int ledPin = 23;// pino GPIO 5 conectado ao LEDint buttonPin = 17;// pino GPIO 17 conectado ao botãovoid setup() {pinMode(ledPin, OUTPUT);// Define o pino do LED como saída.pinMode(buttonPin, INPUT);// Define o pino do botão como entrada}void loop() {int  buttonState  =  digitalRead(buttonPin);//  Lê  o estado do botãoif (buttonState == HIGH) {digitalWrite(ledPin, HIGH);// Acende o LED} else {digitalWrite(ledPin, LOW);// Apaga o LED}}Código-fonte 30-Interruptor digital usando botão e LED. Quando o botão é pressionado e mantido pressionado, o LED acende e fica aceso, e quando o botão é liberado, o LED apagaFonte: Elaborado pelo autor(2024)Atenção: atente-se ao copiar e colartodosos códigos no Wokwi.com, remova os espaços extras em caixinhas amarelas caso apareçam.Explicação do que você está vendo:Este  código  em  C++  foi  escrito  para  ser  executado  em  uma  placa  de microcontrolador,  como  o  ESP32  ou  Arduino,  e  tem  a  função  de  controlar  um  LED usandoum botão. Vamos dividir o código em partes e explicar cada partede forma didática:PDF exclusivo para Phellype Matheus Giacoia Flaibam Massarente - rm566826phellype@gmail.com
Chamando todas as placasDeclaração de variáveisint ledPin = 23;// pino GPIO 23 conectado ao LEDint buttonPin = 17;// pino GPIO 17 conectado ao botãoCódigo-fonte 31-Declarando os pinosFonte: Elaborado pelo autor(2024)•int ledPin = 5;esta linha define uma variável chamada `ledPin` e a associa ao pino GPIO 5 da placa, que está conectado a um LED. Essa variável será usada para controlar o LED.•int buttonPin = 17;aqui, a variável `buttonPin` é definida e associada ao pino  GPIO  17,  onde  um  botão  está  conectado.  Essa  variável  será  usada para ler o estado do botão.Configuração inicial (função `setup()`)void setup() {pinMode(ledPin, OUTPUT);//Define o pino do LED como saída.pinMode(buttonPin, INPUT);// Define o pino do botão como entrada}Código-fonte 32-Declarando o void setup()Fonte: Elaborado pelo autor(2024)•void setup()esta função é executada apenas uma vez, quando a placa é ligada ou reiniciada. É usada para configurar os pinos que serão utilizados no programa.•pinMode(ledPin,  OUTPUT);aqui,  o  pino  onde  o  LED  está  conectado (`ledPin`) é configurado como `OUTPUT` (saída). Isso significa que o pino pode enviar sinais elétricos para acender ou apagar o LED.•pinMode(buttonPin, INPUT);esta linha configura o pino onde o botão está conectado  (`buttonPin`)  como  `INPUT`  (entrada).  Isso  permite  que  o programa      leia      se      o      botão      está      pressionado      ou      não.PDF exclusivo para Phellype Matheus Giacoia Flaibam Massarente - rm566826phellype@gmail.com
Chamando todas as placasLoop principal (função `loop()`)void loop() {int  buttonState  =  digitalRead(buttonPin);//  Lê  o estado do botãoif (buttonState == HIGH) {digitalWrite(ledPin, HIGH);// Acende o LED} else {digitalWrite(ledPin, LOW);// Apaga o LED}}Código-fonte 33-Declarando o void loop()Fonte: Elaborado pelo autor(2024)•void  loop()esta  função  é  executada  repetidamente  enquanto  a  placa estiver  ligada.  Todo  o  código  dentro  do  `loop()`  seráexecutado  em sequência, repetidamente, até que a placa seja desligada.•int buttonState = digitalRead(buttonPin);esta linha lê o estado do pino `buttonPin` (onde o botão está conectado) usando a função `digitalRead()`. O resultado (`HIGH` ou `LOW`) é armazenado na variável `buttonState`.•HIGHsignifica  que  o  botão  está  sendo  pressionado  (ou  que  há  um  sinal elétrico alto).•LOWsignifica que o botão não está sendo pressionado (ou que há um sinal elétrico baixo).•if   (buttonState   ==   HIGH)esta   condição   verifica   se   o   botão   está pressionado.Se `buttonState` for `HIGH`** (o botão está pressionado), o código dentro deste bloco será executado:digitalWrite(ledPin, HIGH);// Acende o LEDCódigo-fonte 34-Função que acende o LEDFonte: Elaborado pelo autor(2024)•digitalWrite(ledPin, HIGH);envia um sinal elétrico alto para o pino `ledPin`, acendendo o LED.PDF exclusivo para Phellype Matheus Giacoia Flaibam Massarente - rm566826phellype@gmail.com
Chamando todas as placasSe `buttonState` for `LOW`** (o botão não está pressionado), o código dentro do bloco `else` será executado:digitalWrite(ledPin, LOW);// Apaga o LEDCódigo-fonte 35-Função que apaga o LEDFonte: Elaborado pelo autor(2024)•digitalWrite(ledPin,  LOW);envia  um  sinal  elétrico  baixo  para  o  pino `ledPin`, apagando o LED.Portanto, neste exemplo, o LED acenderá quando o botão for pressionado, e apagará quando o botão não estiver pressionado.7.2 Acendimento do LED usando doisbotões simultâneosVamos modificar o exemplo do LED e botão anterior para que o LED acenda somente se dois botões forem pressionados simultaneamente.int ledPin = 23;// Pino GPIO 23 conectado ao LEDint  buttonPin1  =  16;//  Pino  GPIO  16  conectado  ao primeiro botãoint  buttonPin2  =  17;//  Pino  GPIO  17  conectado  ao segundo botãovoid setup() {pinMode(ledPin, OUTPUT);// Define o pino do LED como saídapinMode(buttonPin1, INPUT_PULLUP); // Define o pino do primeiro botão como entradapinMode(buttonPin2, INPUT_PULLUP); // Define o pino do segundo botão como entrada}void loop() {int buttonState1 = digitalRead(buttonPin1);// Lê o estado do primeiro botãoint buttonState2 = digitalRead(buttonPin2);// Lê o estado do segundo botãoif (buttonState1 == LOW&& buttonState2 == LOW) {digitalWrite(ledPin, HIGH);// Acende o LED se ambos os botões estiverem pressionados} else {PDF exclusivo para Phellype Matheus Giacoia Flaibam Massarente - rm566826phellype@gmail.com
Chamando todas as placasdigitalWrite(ledPin, LOW); // Apaga o  LEDse pelo menos um dos botões não estiver pressionado}}Código-fonte 36-Exemplo usando dois botões que ao serem pressionados juntos, o LED acende e se mantém aceso; se soltar um botão, o LED apagaFonte: Elaborado pelo autor(2024)Configureos botões para serem usados via teclado. Para isso, clique no botão do seu circuito com a simulação parada e associe o botão com uma tecla do seu teclado. Assim,terá condições de pressionar 2 botões ao mesmo tempo.Na linha buttonState1 == HIGH && buttonState2 == HIGHestamos usando o operador  lógico  `&&`  (AND)  para  verificar  se  os  dois  botões  estão  pressionados simultaneamente. Ambos os estados (`buttonState1` e `buttonState2`) precisam ser `HIGH` para que a condição seja verdadeira.•digitalWrite(ledPin,HIGH):se a condição for verdadeira, o LED acenderá.•digitalWrite(ledPin, LOW): se a condição não for atendida (ou seja, se um ou  ambos  os  botões  não  estiverem  pressionados),  o  LED  permanecerá apagado.7.3 Verificandose épar ou ímparVerifique  se  um  número  é  par  ou  ímpar  e  acenda  um  LED  para  indicar  o resultado. O usuário fornece um número inteiro na variável número. Se o número for par, o LED acende; se for ímpar, o LED permanece apagado.int ledPin = 5;// Pino GPIO 5 conectado ao LEDint numero = 7;// Número fornecido pelo usuáriovoid setup() {pinMode(ledPin, OUTPUT);// Define o pino do LED como saídaif (numero % 2 == 0) {digitalWrite(ledPin, HIGH);// Acende o LED se o número for par} else {digitalWrite(ledPin, LOW); // Apaga o LED se o número for ímparPDF exclusivo para Phellype Matheus Giacoia Flaibam Massarente - rm566826phellype@gmail.com
Chamando todas as placas}}void loop() {// Nada a fazer aqui, pois o estado do LED é decidido no setup()}Código-fonte 37-Acende um LED se o número declarado for parFonte: Elaborado pelo autor(2024)Note que todo o código foi posto na função void setup() { } porque o número está fixo na variável “número” e,por isso, não faria sentido testar mais de uma vez. Neste caso, o teste é feito apenas uma vez quando você inicia o chip ESP32.•if (numero % 2 == 0)verifica se o número é divisível por 2. Se o resto da divisão for 0, o número é par.•digitalWrite(ledPin,  HIGH/LOW)liga   ou  desliga  o  LED  baseado   no resultado da verificação.7.4 Comparando númerosNesse  exemplo,  vamos  comparar  dois  números  e  acender  um  LED  se  eles forem iguais. O usuário fornece dois números inteiros em num1e num2. Se os dois números forem iguais, o LED acende; caso contrário, o LED permanece apagado.int ledPin = 23;// Pino GPIO 23 conectado ao LEDint num1 = 5;// Primeiro número fornecido pelo usuárioint num2 = 5;// Segundo número fornecido pelo usuáriovoid setup() {pinMode(ledPin, OUTPUT);// Define o pino do LED como saídaif (num1 == num2) {digitalWrite(ledPin, HIGH);// Acende o LED se os números forem iguais} else {digitalWrite(ledPin, LOW); // Apaga o LED se os números forem diferentes}}void loop() {PDF exclusivo para Phellype Matheus Giacoia Flaibam Massarente - rm566826phellype@gmail.com
Chamando todas as placas// Nada a fazer aqui, pois o estado do LED é decidido no setup()}Código-fonte 38-Acende um LED se 2 números forem iguaisFonte: Elaborado pelo autor(2024)Note mais uma vez que todo o código foi posto na função void setup() { } porque os números estão fixos nas variáveis “num1” e “num2” e,por isso, não faria sentido testarmais de uma  vez.  Nesse  caso,  o teste  é feito  apenas  uma  vez  quando  você inicia o chip ESP32.•if (num1 == num2)compara os dois números fornecidos pelo usuário. Se eles forem iguais, a condição é verdadeira.•digitalWrite(ledPin, HIGH/LOW)liga o LED se os números forem iguais e o apaga se forem diferentes.7.5 Evoluindo o teste de númerosDetermine  se  um  número  é  positivo,  negativo  ou  zero,  e  acenda  um  LED específico para cada caso. O usuário fornece um número inteiro. O LED1 acende se o número for positivo. O LED2 acende se o número for negativo. O LED3 acende se o número for zero.int ledPinPositivo = 23;// Pino GPIO 23 conectado ao LED para números positivosint ledPinNegativo = 22;// Pino GPIO 22 conectadoao LED para números negativosint ledPinZero = 16;// Pino GPIO 16 conectado ao LED para zeroint numero = 0;// Número fornecido pelo usuáriovoid setup() {pinMode(ledPinPositivo,  OUTPUT);//  Define  o  pino para número positivo como saídapinMode(ledPinNegativo,  OUTPUT);//  Define  o  pino para número negativo como saídapinMode(ledPinZero, OUTPUT);// Define  o pino para zero como saídaPDF exclusivo para Phellype Matheus Giacoia Flaibam Massarente - rm566826phellype@gmail.com
Chamando todas as placasif (numero > 0) {digitalWrite(ledPinPositivo, HIGH);// Acende o LED paranúmero positivo} else if (numero < 0) {digitalWrite(ledPinNegativo, HIGH);// Acende o LED para número negativo} else {digitalWrite(ledPinZero, HIGH);// Acende o LED para zero}}void loop() {// Nada a fazer aqui, pois o estado do LED é decidido no setup()}Código-fonte 39-Testando novamente números, mas agora positivos e negativosFonte: Elaborado pelo autor(2024)•if (numero > 0)verifica se o número épositivo.•else if (numero < 0)verifica se o número é negativo.•elsese nenhuma das condições anteriores for verdadeira, o número deve ser zero.Cada  condição  acende  um  LED  específico  para  indicar  o  estado  do  número (positivo, negativo ou zero).7.6 Evoluindo a multiplicidadeVerifique   se   um   número   é   múltiplo   de   3   e/ou   5   e   acenda   um   LED correspondente. O usuário fornece um número inteiro. O LED1 acende se o número for  múltiplo  de  3.  O  LED2  acende  se  o  número  for  múltiplo  de  5.  Se  o  número  for múltiplode ambos (3 e 5), ambos os LEDs acendem.PDF exclusivo para Phellype Matheus Giacoia Flaibam Massarente - rm566826phellype@gmail.com
Chamando todas as placasint ledPin = 23; // Pino GPIO 23 conectado ao LED para múltiplos de 3int ledPin = 22; // Pino GPIO 22 conectado ao LED para múltiplos de 5int numero = 15; // Número fornecido pelo usuáriovoid setup() {pinMode(ledPin,  OUTPUT);//  Define  o  pino  para múltiplos de 3 como saídapinMode(ledPin,  OUTPUT);//  Define  o  pino  para múltiplos de 5 como saídaif (numero % 3 == 0) {digitalWrite(ledPin, HIGH);// Acende o LED se o número for múltiplo de 3}if (numero % 5 == 0) {digitalWrite(ledPin, HIGH);// Acende o LED se o número for múltiplo de 5}}void loop() {// Nada a fazer aqui, pois o estado dos LEDs é decidido no setup()}Código-fonte 40-Outro exemplo de teste de númerosFonte: Elaborado pelo autor(2024)•numero % 3 == 0verifica se o número é divisível por 3 (ou seja, se o resto da divisão por 3 é zero).•numero % 5 == 0verifica se o número é divisível por 5.Dependendo do resultado, um LED específico acende. Se o número for múltiplo de ambos (por exemplo, 15), ambos os LEDs acenderão.PDF exclusivo para Phellype Matheus Giacoia Flaibam Massarente - rm566826phellype@gmail.com
Chamando todas as placasREFERÊNCIASCAMPUS Component Pvt. Ltd. What is the ESP8266 Wi-Fi Module?. Medium, 25 may 2023.     Disponível     em:     <https://campuscomponent11.medium.com/what-is-the-esp8266-wi-fi-module-ef8f6013ec03>. Acesso em: 4 set. 2024.ESP32      Modules      and      Boards. Espressif.      2020.      Disponível      em: https://docs.espressif.com/projects/esp-idf/en/v4.2/esp32/hw-reference/modules-and-boards.html. Acesso em: 6 set. 2024.GAURAV, Kumar. What is ESP 8266/ESP 32. Techeonics, 12 july 2022. Disponível em: <https://techeonics.com/what-are-esp-microcontrollers/>. Acesso em: 4 set. 2024.LOUIS,  Leo. Working  principle  of  Arduino  and  using  it. International  Journal  of Control, Automation, Communication and Systems (IJCACS), v. 1, n. 2, p. 21-29, 2016.MCROBERTS,   Michael. Arduino   Básico-2ª   edição:   Tudo   sobre   o   popular microcontrolador Arduino. Novatec Editora, 2015.MURAD,  S.  A.  Zainol et  al. Design  of  aquaponics  water  monitoring  system  using Arduino  microcontroller. In:  AIP  Conference  Proceedings.  AIP  Publishing,  2017.CORDOVA, H.; TORT, A. C. Medida de g com a placa Arduino em um experimento simples de queda livre. Revista Brasileira de Ensino de Física, v. 38, n. 2, p. e2308, 2016.SIHOMBING, P. et al. Automated hydroponics nutrition plants systems using arduino uno microcontroller based on android. In: Journal of Physics: Conference Series. IOP Publishing, 2018. p. 012014.SRIVASTAVA, Prakhar; BAJAJ, Mohit; RANA, Ankur Singh. Overview of ESP8266 Wi-Fi  module  based  smart  irrigation  system  using  IOT.  In: 2018  Fourth  International Conference on Advances in Electrical, Electronics, Information, Communication and Bio-Informatics (AEEICB). IEEE, 2018. p. 1-5